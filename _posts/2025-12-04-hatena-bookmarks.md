---
layout: post
title: "はてなブックマーク 2025年12月04日 の記事まとめ (1件)"
date: 2025-12-05 08:14:34 +0900
excerpt: "はてなブックマークで気になった記事をAIで要約してお届けします。2025年12月04日分の1件の記事をまとめました。

- 【npm】11月24日以降にnpm installした人へ - Shai-Hulud感染チェック & 多層防御ガイド
"
---

はてなブックマークで気になった記事をAIで要約してお届けします。
2025年12月04日分の1件の記事をまとめました。

## 1. 【npm】11月24日以降にnpm installした人へ - Shai-Hulud感染チェック & 多層防御ガイド

**URL:** [https://zenn.dev/hand_dot/articles/04542a91bc432e](https://zenn.dev/hand_dot/articles/04542a91bc432e)

### AI要約

### 要点

-   **Shai-Hulud 2.0とは**: 11月21日から拡散した、npmの正規パッケージメンテナー認証情報を盗み、悪意あるバージョンを公開するサプライチェーン攻撃です。
-   **感染確認方法**: GitHubリポジトリの不審な変更（見覚えのないリポジトリ、`discussion.yaml`、セルフホストランナー）、ローカル環境での特定のファイル検索、公開済みnpmパッケージの不審なバージョン履歴を確認します。
-   **多層防御アプローチ**: 「入れない」「実行させない」「見逃さない」の3段階で防御します。
    -   **入れない**: `minimum-release-age`設定で、公開から間もないパッケージのインストールを拒否し、ゼロデイ攻撃のリスクを低減します。
    -   **実行させない**: 悪意あるスクリプトの実行を防ぎます。
    -   **見逃さない**: SCAツールで既知の脆弱性を継続的に検知します。

### 詳細な要約

Shai-Hulud 2.0は、2023年11月21日以降に急速に拡散した、npm史上最悪クラスのサプライチェーン攻撃です。この攻撃は、正規のnpmパッケージメンテナーの認証情報を盗み出し、悪意のあるバージョンをnpmに公開することで、開発者の環境にマルウェアを感染させます。感染すると、GitHubアカウントに不審なリポジトリやワークフローが作成されたり、セルフホストランナーが登録されたり、ローカル環境に認証情報を窃取するファイルが生成される可能性があります。

この記事では、まず自身がこの攻撃の被害に遭っていないかを確認する方法を詳細に解説しています。具体的には、GitHub上で見覚えのない公開リポジトリや「Sha1-Hulud: The Second Coming」という説明を持つリポジトリ、不審な`discussion.yaml`ワークフローファイル、そして「SHA1HULUD」と名付けられたセルフホストランナーの有無をチェックします。また、ローカル環境では`setup_bun.js`、`bun_environment.js`、`cloud.json`などの特定のファイルが存在しないかを確認し、npmパッケージ公開者は不審なバージョンが公開されていないかを確認します。もし感染が確認された場合、npm、GitHub、AWSなどの全トークンのローテーション、不審なリポジトリやランナー、ワークフローファイルの削除を速やかに行う必要があります。

次に、将来的な被害を防ぐための多層防御アプローチを紹介しています。「入れない」「実行させない」「見逃さない」の3つの層で防御を構築し、特に「入れない」対策として、`pnpm`ユーザー向けに`minimumReleaseAge`設定を推奨しています。これは、公開から指定された期間（例えば2日間）が経過していないパッケージのインストールを拒否することで、攻撃が発覚するまでのゼロデイ期間のリスクを大幅に低減することを目的としています。この設定は、攻撃が発覚してAdvisoryが発行されるまでの時間を稼ぎ、安全なパッケージのみをインストールするのに役立ちます。

---

*この記事は、はてなブックマークのRSSフィードから自動生成されました。*  
*要約はAI（Gemini）によって生成されており、元記事の内容を正確に反映していない場合があります。*  
*詳細な内容については、各URLから元記事をご確認ください。*
